<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
  <style>

  </style>
  <div id="app">
    <button @click="pushTodos">야식 막을래?</button>
    <ul class="todos">
      <!-- v-for 각각에 반복되는 요소들이 고유하다는것을 알려줘야 한다(key 필요) 
      값이 바뀔일이 없으면 v-for에서 기본 제공하는 index를 사용할 수 있다 
      사용자 정의 이름에 괄호를 치고 두번째 인수로 index(v-for에서 todos가 반복될때 수를 0base로 제공한다)-->
      <li v-for="(todo, index) in todos" :key="index">
        {{todo.title}}
      </li>
    </ul>

    <button @click="addHomepage">Add Homepage property</button>
    <ul class="bluetuna">
      <!-- v-for에서 객체 데이터를 반복할 때 2번째에는 키가 오기 때문에 인덱스를 두번째에 쓰면 안된다 -->
      <li v-for="(value, key, index) in bluetuna" :key="index">
        {{ value }}
      </li>
    </ul>
  </div>
  <script>
  const vm = new Vue({
    el: "#app",
    data: {
      // array
      todos: [
        { title: '아침 먹기'},
        { title: '점심 먹기'},
        { title: '저녁 먹기'},
      ],
      // object
      /* bluetuna 객체안에 미리 정의하지 않은것들은 뷰에서 반응성을 뛰지 않는다.
      따라서 미리 정의를 해주거나, 자바스크립 메서드 Object.assign(객체와 객체를 병합)
      ex : vm.bluetuna = Object.assign({}, vm.bluetuna, {homepage: 'bluetuna1101@gmail.com'}) 
      */
      bluetuna: {
        name: '동원',
        age: 29
      } 
    },
    methods: {
      pushTodo() {
        this.todos[3] = { title: '야식 먹기'}
      },
      // 위와 같이 사용하면 배열에는 푸쉬가 되지만 뷰 반응성이 작동을 하지 않아서 화면에 출력은 되지 않는다
      pushTodos() {
        this.todos.push({ title: '야식 먹기'})
        // vue에 set 메서드로 반응성도 가지고 푸쉬도 가능 , 동일한 기능을 하는 this.$set도 있다
        Vue.set(this.todos, 3, {title: '야식 먹기!'})
        
      },
      addHomepage () {
        this.$set(this.bluetuna, 'homepage', 'bluetuna.blog')
      }
      /* 배열 변경 감지
      - Vue는 감시중인 배열의 변이 메소드를 래핑하여 뷰 갱신을 트리거함 (이런 메서드를 사용해야 뷰의 반응성이 작동한다)
      push() : 배열의 제일 끝에 데이터를 밀어 넣음
      pop() : 배열의 제일 끝에 데이터를 끄집어 반환
      shift() : 배열의 제일 앞을 끄접아내 반환
      unshift() : 배열 제일 앞에 데이터를 밀어 넣는다
      splice() : 베열의 인덱스를 활용해 데이터를 넣거나 빼거나 등
      sort() : 배열 정렬
      reverse() : 배열을 뒤집는
      */
    }
  })
  </script>
</body>
</html>